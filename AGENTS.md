# AGENTS.md — Cambridge Building Group

Corporate marketing site for a Nashville construction company.
React 19 SPA — no SSR, no backend, no API calls. All content lives in static data files.

## Stack

| Layer      | Tool                                    |
|------------|-----------------------------------------|
| Framework  | React 19 + Vite 6                       |
| Router     | TanStack Router (file-based, auto code-splitting) |
| Styling    | Tailwind CSS v4 (`@tailwindcss/vite`)   |
| Animation  | Motion v12 (`motion/react`)             |
| Icons      | Heroicons v2 (`@heroicons/react/24/solid`) |
| Linter     | Biome (NOT ESLint)                      |
| Types      | TypeScript 5.7, strict mode             |
| Package mgr| npm                                     |

## Commands

```sh
npm run dev          # Vite dev server
npm run build        # tsc -b && vite build (typecheck + bundle)
npm run preview      # Preview production build
npm run lint         # biome check .
npm run lint:fix     # biome check --write .
```

No test framework is installed. No test files exist.

## Project Structure

```
src/
  main.tsx                      # Entry: creates router, renders <RouterProvider>
  routeTree.gen.ts              # AUTO-GENERATED — never edit
  assets/css/main.css           # Tailwind v4 @theme, custom utilities
  components/
    Navbar.tsx                  # Fixed top nav with mobile menu
    Footer.tsx
    ScrollReveal.tsx            # Reusable scroll-triggered animation wrapper
    sections/                   # 16 section components (HomeHero, CoreValues, etc.)
  data/
    siteData.ts                 # All site content (arrays, objects, interfaces)
    portfolioData.ts            # Portfolio projects + helper functions
  routes/
    __root.tsx                  # Root layout: Navbar + Outlet + Footer
    index.tsx                   # Home page — composes sections with slant classes
    about.tsx, services.tsx, contact.tsx, privacy-policy.tsx
    portfolio/
      index.tsx                 # Portfolio listing
      $id.tsx                   # Dynamic route: portfolio detail
  utils/
    autoScroll.ts               # scrollToNextSection() smooth-scroll helper
```

## Do Not Edit

- `src/routeTree.gen.ts` — auto-generated by TanStack Router plugin
- `package-lock.json` — managed by npm

## Formatting (Biome)

- 2-space indent, single quotes, no semicolons, trailing commas
- Line width: 100
- Import organization: enabled (Biome auto-sorts alphabetically)
- Run `npm run lint:fix` to auto-format

## TypeScript

- **Strict mode** enabled
- **`noUncheckedIndexedAccess`** enabled — indexed access returns `T | undefined`
- **Path alias**: `@/*` maps to `./src/*` (configured in tsconfig + vite)
- Prefer `interface` for object shapes, `type` for unions/aliases
- Explicit return types on all exported/component functions: `React.ReactElement`
- Use `import type` for type-only imports (e.g., `import type React from 'react'`)

## Import Order

Biome auto-sorts alphabetically by package name. The resulting order is:

```ts
// 1. Internal modules (@/ alias)
import { ScrollReveal } from '@/components/ScrollReveal'
import { coreValues } from '@/data/siteData'

// 2. Third-party packages
import { ChevronRightIcon } from '@heroicons/react/24/solid'
import { Link } from '@tanstack/react-router'
import { useInView } from 'motion/react'
import { useState } from 'react'

// 3. Type-only imports
import type React from 'react'
```

## Component Conventions

- **Named exports only** — never use default exports
- **Function declarations** — not arrow functions for components
- **Props interface** named `{ComponentName}Props`, placed above the component
- **No placeholder content** — no Lorem ipsum, no example.com

```ts
interface CoreValuesProps {
  showButton?: boolean
}

export function CoreValues({ showButton = false }: CoreValuesProps): React.ReactElement {
  return (...)
}
```

## Route File Pattern

```ts
import { createFileRoute } from '@tanstack/react-router'

export const Route = createFileRoute('/path')({
  component: PageName,
})

// Page component is NOT exported — only Route is
function PageName(): React.ReactElement {
  return (...)
}
```

- Dynamic params: `$id.tsx` file, accessed via `Route.useParams()`
- Navigation: `<Link to="/path">` from `@tanstack/react-router`

## Section Components (`src/components/sections/`)

All 16 sections follow a consistent pattern:

- Root element is `<section id="section-id" className="...">`
- Responsive horizontal padding: `px-8 2xl:px-60`
- Content wrapped in `<ScrollReveal>` for entrance animations
- `showButton` prop renders a "scroll to next section" button (home page only)
- Dark sections: `bg-slate-800 text-slate-300 bg-grid`
- Light sections: `bg-slate-100 bg-dots`, text uses `text-navy` / `text-slate-700`

## Tailwind v4

Uses `@theme {}` in `main.css` (not `tailwind.config.js`):

- **Brand color**: `--color-navy: #0b1b25` → `text-navy`, `bg-navy`, `border-navy`
- **Display font**: `--font-display` → `font-display` (DM Serif Display, for headings)
- **Body font**: `--font-body` → `font-body` (Plus Jakarta Sans, default body)
- **Custom utilities**: `.bg-grid`, `.bg-dots`, `.bg-crosshatch` (background textures)
- **Parallelogram slants**: `.slant-bottom`, `.slant-both`, `.slant-top` (`clip-path` section dividers, home page only)

## Animation (Motion)

Import from `motion/react` (not `framer-motion`):

- **ScrollReveal**: wrap content for scroll-triggered fade+slide. Props: `direction`, `delay`, `duration`
- **useInView**: trigger counters/animations when elements enter viewport
- **useScroll / useTransform**: parallax effects (used in HomeHero)

## Biome Ignore Comments

When suppressing a rule, always include the reason:

```ts
// biome-ignore lint/security/noDangerouslySetInnerHtml: trusted static content from data file
```

## Error Handling

- `type="button"` or `type="submit"` explicitly on all `<button>` elements
- Contact form uses simulated submission (no backend)
- `CaseStudies` returns `null` when data is empty
- No API error handling needed — site is entirely static

## Key Gotchas

1. Motion library is `motion/react`, NOT `framer-motion`
2. Tailwind v4 uses `@theme {}` block, NOT `tailwind.config.js`
3. `routeTree.gen.ts` is auto-generated — never edit manually
4. `siteData.ts` stores Heroicon components as direct references (e.g., `icon: TrophyIcon`)
5. Inner pages do NOT use slant classes — only the home page does
6. The `showButton` prop is only `true` on the home page; unused props are prefixed with `_`
